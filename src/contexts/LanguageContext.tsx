import React, { createContext, useContext, useState, ReactNode } from 'react';

type Language = 'en' | 'sv';

interface LanguageContextType {
  language: Language;
  toggleLanguage: () => void;
  t: (key: string) => string;
}

const translations = {
  en: {
    // Header
    'header.search.placeholder': 'Search students, schools, reports...',
    'header.breadcrumb.dashboard': 'Dashboard',
    'header.breadcrumb.students': 'Student Management > Student Registry',
    'header.breadcrumb.students.placements': 'Student Management > Placements & Transfers',
    'header.breadcrumb.students.conflicts': 'Student Management > Conflict Resolution',
    'header.breadcrumb.students.bulk': 'Student Management > Bulk Operations',
    'header.breadcrumb.financial': 'Financial Management > IKE Calculations',
    'header.breadcrumb.financial.pricelists': 'Financial Management > Price Lists',
    'header.breadcrumb.reports': 'Reports & Analysis > Standard Reports',
    'header.breadcrumb.reports.contributions': 'Reports & Analysis > Contribution Reports',
    'header.breadcrumb.reports.statistics': 'Reports & Analysis > Statistics',
    'header.breadcrumb.reports.follow-up': 'Reports & Analysis > Follow-up Reports',
    'header.breadcrumb.integration': 'Integration & Import',
    'header.breadcrumb.settings': 'Settings',
    
    // Dashboard
    'dashboard.welcome': 'Welcome to IKE 2.0',
    'dashboard.date': 'Sk√•ne Regional Platform',
    'dashboard.export': 'Export Data',
    'dashboard.generate': 'Generate Report',
    'dashboard.total.students': 'Total Students',
    'dashboard.active.calculations': 'Active Calculations',
    'dashboard.pending.conflicts': 'Pending Conflicts',
    'dashboard.monthly.amount': 'Monthly Amount',
    'dashboard.from.last.month': 'from last month',
    'dashboard.ongoing.processing': 'Ongoing processing',
    'dashboard.requires.attention': 'Requires attention',
    'dashboard.for.november': 'SEK for November 2024',
    'dashboard.calculation.status': 'Current Calculation Status',
    'dashboard.monthly.calculation': 'Monthly IKE calculation for November 2024',
    'dashboard.data.validation': 'Data validation',
    'dashboard.preliminary.calculation': 'Preliminary calculation',
    'dashboard.final.calculation': 'Final calculation',
    'dashboard.completed': 'Completed',
    'dashboard.ongoing': 'Ongoing',
    'dashboard.pending': 'Pending',
    'dashboard.next.run': 'Next run:',
    'dashboard.quick.actions': 'Quick Actions',
    'dashboard.common.tasks': 'Common tasks and functions',
    'dashboard.new.student': 'New Student',
    'dashboard.new.calculation': 'New Calculation',
    'dashboard.resolve.conflicts': 'Resolve Conflicts',
    'dashboard.recent.activity': 'Recent Activity',
    'dashboard.system.events': 'Overview of system events and user activity',
    'dashboard.student.registered': 'New student registered',
    'dashboard.conflict.resolved': 'Conflict resolved',
    'dashboard.calculation.started': 'Calculation started',
    'dashboard.data.imported': 'Data imported',
    'dashboard.done': 'Done',
    'dashboard.resolved': 'Resolved',
    
    // Students
    'students.title': 'Student Registry',
    'students.subtitle': 'Manage student registration and placements',
    'students.export': 'Export',
    'students.new.student': 'New Student',
    'students.total.students': 'Total Students',
    'students.intercommunal': 'Intercommunal',
    'students.pending.transfers': 'Pending Transfers',
    'students.new.this.month': 'New this Month',
    'students.search.filter': 'Search and Filter',
    'students.search.placeholder': 'Search by name or personal number...',
    'students.all.statuses': 'All statuses',
    'students.all.municipalities': 'All municipalities',
    'students.active': 'Active',
    'students.conflict': 'Conflict',
    'students.pending': 'Pending',
    'students.unknown': 'Unknown',
    'students.student.list': 'Students',
    'students.detailed.list': 'Detailed list of all registered students',
    'students.name': 'Name',
    'students.personal.number': 'Personal Number',
    'students.municipality': 'Municipality',
    'students.school': 'School',
    'students.program': 'Program',
    'students.class': 'Class',
    'students.status': 'Status',
    'students.amount': 'Amount (SEK)',
    'students.actions': 'Actions',
    'students.view.details': 'View details',
    'students.edit': 'Edit',
    'students.transfer': 'Transfer',

    // Student Placements
    'placements.title': 'Placements & Transfers',
    'placements.subtitle': 'Manage student transfers between municipalities and schools',
    'placements.new.transfer': 'New Transfer',
    'placements.pending.transfers': 'Pending Transfers',
    'placements.requires.approval': 'Requires approval',
    'placements.approved.this.month': 'Approved this Month',
    'placements.from.last.month': 'from last month',
    'placements.completed.transfers': 'Completed transfers',
    'placements.since.term.start': 'Since term start',
    'placements.current.requests': 'Current Transfer Requests',
    'placements.recent.transfers': 'Recent and ongoing student transfers',
    'placements.from': 'From:',
    'placements.to': 'To:',
    'placements.program': 'Program:',
    'placements.reason': 'Reason:',
    'placements.pending': 'Pending',
    'placements.approved': 'Approved',
    'placements.completed': 'Completed',
    'placements.unknown': 'Unknown',
    'placements.approve': 'Approve',
    'placements.reject': 'Reject',
    'placements.execute': 'Execute',
    'placements.view.details': 'View details',
    'placements.transfer.process': 'Transfer Process',
    'placements.process.description': 'Standard process for student transfers between municipalities',
    'placements.step.application': 'Application received',
    'placements.step.application.desc': 'Student or guardian submits application',
    'placements.step.review': 'Review',
    'placements.step.review.desc': 'Both sending and receiving school review the application',
    'placements.step.approval': 'Approval',
    'placements.step.approval.desc': 'Decision made by responsible administrator',
    'placements.step.execution': 'Execution',
    'placements.step.execution.desc': 'System updates student registry and calculates new contributions',

    // Student Conflicts
    'conflicts.title': 'Conflict Resolution',
    'conflicts.subtitle': 'Identify and resolve conflicts in the student registry',
    'conflicts.run.analysis': 'Run Conflict Analysis',
    'conflicts.active.conflicts': 'Active Conflicts',
    'conflicts.requires.attention': 'Requires attention',
    'conflicts.under.investigation': 'Under Investigation',
    'conflicts.ongoing.process': 'Ongoing process',
    'conflicts.resolved.this.month': 'Resolved this Month',
    'conflicts.resolution.rate': '94% resolution rate',
    'conflicts.average.resolution.time': 'Average Resolution Time',
    'conflicts.days': 'days',
    'conflicts.active.conflicts.list': 'Active Conflicts',
    'conflicts.requires.immediate.attention': 'Conflicts that require immediate attention and action',
    'conflicts.detected': 'Detected:',
    'conflicts.responsible': 'Responsible:',
    'conflicts.school': 'School',
    'conflicts.choose.placement': 'Choose Placement',
    'conflicts.edit': 'Edit',
    'conflicts.mark.resolved': 'Mark Resolved',
    'conflicts.comments': 'Comments',
    'conflicts.resolution.process': 'Conflict Resolution Process',
    'conflicts.standard.process': 'Standard process for resolving conflicts in the student registry',
    'conflicts.step.automatic.detection': 'Automatic Detection',
    'conflicts.step.automatic.detection.desc': 'System identifies potential conflicts during data registration',
    'conflicts.step.prioritization': 'Prioritization',
    'conflicts.step.prioritization.desc': 'Conflicts are prioritized based on type and impact',
    'conflicts.step.investigation': 'Investigation',
    'conflicts.step.investigation.desc': 'Responsible administrator contacts affected schools',
    'conflicts.step.resolution': 'Resolution',
    'conflicts.step.resolution.desc': 'Correct placement is determined and system is updated',
    'conflicts.double.registration': 'Double Registration',
    'conflicts.wrong.municipality': 'Wrong Municipality',
    'conflicts.date.conflict': 'Date Conflict',
    'conflicts.pending': 'Pending',
    'conflicts.investigating': 'Investigating',
    'conflicts.resolved': 'Resolved',
    'conflicts.unknown': 'Unknown',
    'conflicts.priority.high': 'High',
    'conflicts.priority.medium': 'Medium',
    'conflicts.priority.low': 'Low',

    // Bulk Operations
    'bulk.title': 'Bulk Operations',
    'bulk.subtitle': 'Efficiently manage large amounts of student data',
    'bulk.templates': 'Templates',
    'bulk.new.operation': 'New Operation',
    'bulk.import.student.data': 'Import Student Data',
    'bulk.import.description': 'Import data from SS12000 or Excel files',
    'bulk.start.import': 'Start Import',
    'bulk.year.advancement': 'Year Advancement',
    'bulk.advancement.description': 'Advance students to next grade level',
    'bulk.start.advancement': 'Start Advancement',
    'bulk.export.data': 'Export Data',
    'bulk.export.description': 'Export student data for reports or backup',
    'bulk.start.export': 'Start Export',
    'bulk.recent.operations': 'Recent and Ongoing Operations',
    'bulk.operations.description': 'Status of bulk operations and data processing',
    'bulk.started.by': 'Started by:',
    'bulk.progress': 'Progress',
    'bulk.total': 'Total:',
    'bulk.processed': 'Processed:',
    'bulk.successful': 'Successful:',
    'bulk.failed': 'Failed:',
    'bulk.start': 'Start:',
    'bulk.end': 'End:',
    'bulk.not.started': 'Not started',
    'bulk.cancel': 'Cancel',
    'bulk.show.errors': 'Show Errors',
    'bulk.details': 'Details',
    'bulk.completed': 'Completed',
    'bulk.running': 'Running',
    'bulk.pending': 'Pending',
    'bulk.failed.status': 'Failed',
    'bulk.unknown': 'Unknown',
    'bulk.import.guidelines': 'Import Guidelines',
    'bulk.guidelines.description': 'Important guidelines for data import and bulk operations',
    'bulk.ss12000.standard': 'SS12000 Standard',
    'bulk.ss12000.description': 'Use SS12000 format to ensure compatibility and data quality',
    'bulk.validation.before.import': 'Validation before Import',
    'bulk.validation.description': 'Always verify data in test environment before importing to production system',
    'bulk.backup.before.operations': 'Backup before Bulk Operations',
    'bulk.backup.description': 'Ensure complete backup exists before performing large changes',
    'bulk.communication': 'Communication',
    'bulk.communication.description': 'Inform affected parties about planned bulk operations in good time',

    // Financial
    'financial.title': 'IKE Calculations',
    'financial.subtitle': 'Manage monthly calculations for intercommunal compensation',
    'financial.export.results': 'Export Results',
    'financial.new.calculation': 'New Calculation',
    'financial.total.monthly.cost': 'Total Monthly Cost',
    'financial.from.last.month': 'from last month',
    'financial.average.per.student': 'Average per Student',
    'financial.monthly.average': 'Monthly average',
    'financial.active.students': 'Active Students',
    'financial.included.in.calculation': 'Included in calculation',
    'financial.next.calculation': 'Next Calculation',
    'financial.scheduled.run': 'Scheduled run',
    'financial.current.calculation.status': 'Current Calculation Status',
    'financial.detailed.status': 'Detailed status for ongoing monthly calculation',
    'financial.data.validation': 'Data validation',
    'financial.price.calculation': 'Price calculation',
    'financial.export.distribution': 'Export & Distribution',
    'financial.completed': 'Completed',
    'financial.ongoing': 'Ongoing',
    'financial.pending': 'Pending',
    'financial.validated.posts': 'Validated {count} student posts',
    'financial.processed.students': 'Processed {current} of {total} students',
    'financial.waiting.completion': 'Waiting for calculation completion',
    'financial.started': 'Started:',
    'financial.estimated.completion': 'Estimated completion:',
    'financial.show.details': 'Show Details',
    'financial.calculation.history': 'Calculation History',
    'financial.previous.calculations': 'Overview of previous monthly calculations',
    'financial.completed.short': 'Completed:',
    'financial.total.amount': 'Total amount:',
    'financial.number.of.students': 'Number of students:',
    'financial.average.per.student.short': 'Average/student:',
    'financial.details': 'Details',
    'financial.export': 'Export',
    'financial.municipality.breakdown': 'Municipality Breakdown',
    'financial.cost.distribution': 'Cost distribution per municipality for current month',
    'financial.students': 'students',
    'financial.sek.per.student': 'SEK/student',
    'financial.failed': 'Failed',
    'financial.unknown': 'Unknown',

    // Price Lists
    'pricelists.title': 'Price Lists',
    'pricelists.subtitle': 'Manage prices for programs and specializations',
    'pricelists.price.history': 'Price History',
    'pricelists.new.pricelist': 'New Price List',
    'pricelists.active.pricelists': 'Active Price Lists',
    'pricelists.over.municipalities': 'Over 33 municipalities',
    'pricelists.average.price': 'Average Price',
    'pricelists.sek.per.student.year': 'SEK per student/year',
    'pricelists.updates.this.year': 'Updates this Year',
    'pricelists.price.changes.2024': 'Price changes 2024',
    'pricelists.price.increase': 'Price Increase',
    'pricelists.compared.to.2023': 'Compared to 2023',
    'pricelists.pricelists.per.municipality': 'Price Lists per Municipality',
    'pricelists.overview.active.planned': 'Overview of active and planned price lists',
    'pricelists.search.pricelists': 'Search price lists...',
    'pricelists.municipality': 'Municipality',
    'pricelists.type': 'Type',
    'pricelists.valid.from': 'Valid from',
    'pricelists.valid.to': 'Valid to',
    'pricelists.programs': 'Programs',
    'pricelists.average.price.short': 'Average Price',
    'pricelists.status': 'Status',
    'pricelists.actions': 'Actions',
    'pricelists.active': 'Active',
    'pricelists.draft': 'Draft',
    'pricelists.expired': 'Expired',
    'pricelists.unknown': 'Unknown',
    'pricelists.program.prices.malmo': 'Program Prices - Malm√∂ Municipality',
    'pricelists.detailed.prices': 'Detailed prices for different programs and specializations',
    'pricelists.program.code': 'Program Code',
    'pricelists.program.name': 'Program Name',
    'pricelists.specialization': 'Specialization',
    'pricelists.normal.price': 'Normal Price',
    'pricelists.internal.price': 'Internal Price',
    'pricelists.price.trends': 'Price Trends',
    'pricelists.development.average.prices': 'Development of average prices over time',
    'pricelists.interactive.trend.chart': 'Interactive trend chart would be shown here',
    'pricelists.visualization.price.changes': '(Visualization of price changes over time)',
    'pricelists.from.previous.year': 'from {year}',

    // Reports
    'reports.title': 'Standard Reports',
    'reports.subtitle': 'Generate and manage common system reports',
    'reports.new.report': 'New Report',
    'reports.search.placeholder': 'Search all reports...',
    'reports.student.reports': 'Student Reports',
    'reports.financial.reports': 'Financial Reports',
    'reports.municipality.reports': 'Municipality Reports',
    'reports.statistics.reports': 'Statistics Reports',
    'reports.most.popular': 'Most popular:',
    'reports.show.all': 'Show all',
    'reports.recent.reports': 'Recent Reports',
    'reports.recent.scheduled': 'Recently generated and scheduled reports',
    'reports.saved.reports': 'Saved Reports',
    'reports.custom.templates': 'Custom and saved report templates',
    'reports.schedule': 'Schedule',
    'reports.download': 'Download',
    'reports.edit': 'Edit',
    'reports.generate': 'Generate',
    'reports.generated.by': 'Generated by:',
    'reports.last.run': 'Last run:',
    'reports.daily': 'Daily',
    'reports.weekly': 'Weekly',
    'reports.monthly': 'Monthly',
    'reports.quarterly': 'Quarterly',
    'reports.yearly': 'Yearly',
    'reports.termly': 'Termly',

    // Contribution Reports
    'contributions.title': 'Contribution Reports',
    'contributions.subtitle': 'Analysis of intercommunal compensations between municipalities',
    'contributions.historical.reports': 'Historical Reports',
    'contributions.export.data': 'Export Data',
    'contributions.filter.data': 'Filter Contribution Data',
    'contributions.period': 'Period',
    'contributions.select.period': 'Select period',
    'contributions.municipality': 'Municipality',
    'contributions.select.municipality': 'Select municipality',
    'contributions.all.municipalities': 'All municipalities',
    'contributions.program': 'Program',
    'contributions.select.program': 'Select program',
    'contributions.all.programs': 'All programs',
    'contributions.flow.type': 'Flow Type',
    'contributions.select.flow.type': 'Select flow type',
    'contributions.all.flows': 'All flows',
    'contributions.sent.payments': 'Sent payments',
    'contributions.received.payments': 'Received payments',
    'contributions.positive.net': 'Positive net status',
    'contributions.negative.net': 'Negative net status',
    'contributions.apply.filter': 'Apply filter',
    'contributions.total.contributions': 'Total Contributions',
    'contributions.from.last.month': 'from last month',
    'contributions.average.per.student': 'Average per Student',
    'contributions.monthly.average': 'Monthly average',
    'contributions.largest.recipient': 'Largest Recipient',
    'contributions.received': 'received',
    'contributions.largest.contributor': 'Largest Contributor',
    'contributions.sent': 'sent',
    'contributions.overview.per.municipality': 'Contribution Overview per Municipality',
    'contributions.detailed.overview': 'Detailed overview of municipal contribution flows',
    'contributions.students': 'students',
    'contributions.total.transaction.volume': 'Total transaction volume',
    'contributions.sent.contribution': 'Sent contribution',
    'contributions.received.contribution': 'Received contribution',
    'contributions.net.result': 'Net result:',
    'contributions.trends': 'Trends',
    'contributions.details': 'Details',
    'contributions.available.reports': 'Available Reports',
    'contributions.specialized.reports': 'Specialized contribution reports for different use cases',
    'contributions.municipal.summary': 'Municipal Summary',
    'contributions.municipal.summary.desc': 'Detailed summary of contribution flows between municipalities',
    'contributions.trend.analysis': 'Trend Analysis',
    'contributions.trend.analysis.desc': 'Analysis of contribution changes over time with trend forecasts',
    'contributions.economic.analysis': 'Economic Analysis',
    'contributions.economic.analysis.desc': 'Economic consequences of student movements between municipalities',
    'contributions.generate.report': 'Generate Report'
  },
  sv: {
    // Header
    'header.search.placeholder': 'S√∂k studenter, skolor, rapporter...',
    'header.breadcrumb.dashboard': 'Dashboard',
    'header.breadcrumb.students': 'Studenthantering > Studentregister',
    'header.breadcrumb.students.placements': 'Studenthantering > Placeringar & √ñverf√∂ringar',
    'header.breadcrumb.students.conflicts': 'Studenthantering > Konfliktl√∂sning',
    'header.breadcrumb.students.bulk': 'Studenthantering > Massoperationer',
    'header.breadcrumb.financial': 'Ekonomihantering > IKE-ber√§kningar',
    'header.breadcrumb.financial.pricelists': 'Ekonomihantering > Prislistor',
    'header.breadcrumb.reports': 'Rapporter & Analys > Standardrapporter',
    'header.breadcrumb.reports.contributions': 'Rapporter & Analys > Bidragsrapporter',
    'header.breadcrumb.reports.statistics': 'Rapporter & Analys > Statistik',
    'header.breadcrumb.reports.follow-up': 'Rapporter & Analys > Uppf√∂ljningsrapporter',
    'header.breadcrumb.integration': 'Integration & Import',
    'header.breadcrumb.settings': 'Inst√§llningar',
    
    // Dashboard
    'dashboard.welcome': 'V√§lkommen till IKE 2.0',
    'dashboard.date': 'Sk√•ne Regional Platform',
    'dashboard.export': 'Exportera Data',
    'dashboard.generate': 'Generera Rapport',
    'dashboard.total.students': 'Totala Studenter',
    'dashboard.active.calculations': 'Aktiva Ber√§kningar',
    'dashboard.pending.conflicts': 'V√§ntande Konflikter',
    'dashboard.monthly.amount': 'M√•nadsbelopp',
    'dashboard.from.last.month': 'fr√•n f√∂rra m√•naden',
    'dashboard.ongoing.processing': 'P√•g√•ende processning',
    'dashboard.requires.attention': 'Kr√§ver uppm√§rksamhet',
    'dashboard.for.november': 'SEK f√∂r november 2024',
    'dashboard.calculation.status': 'Aktuell Ber√§kningsstatus',
    'dashboard.monthly.calculation': 'M√•natlig IKE-ber√§kning f√∂r november 2024',
    'dashboard.data.validation': 'Datavalidering',
    'dashboard.preliminary.calculation': 'Prelimin√§r ber√§kning',
    'dashboard.final.calculation': 'Slutlig ber√§kning',
    'dashboard.completed': 'Klar',
    'dashboard.ongoing': 'P√•g√•ende',
    'dashboard.pending': 'V√§ntande',
    'dashboard.next.run': 'N√§sta k√∂rning:',
    'dashboard.quick.actions': 'Snabb√•tg√§rder',
    'dashboard.common.tasks': 'Vanliga uppgifter och funktioner',
    'dashboard.new.student': 'Ny Student',
    'dashboard.new.calculation': 'Ny Ber√§kning',
    'dashboard.resolve.conflicts': 'L√∂s Konflikter',
    'dashboard.recent.activity': 'Senaste Aktivitet',
    'dashboard.system.events': '√ñversikt √∂ver systemh√§ndelser och anv√§ndaraktivitet',
    'dashboard.student.registered': 'Ny student registrerad',
    'dashboard.conflict.resolved': 'Konflikt l√∂st',
    'dashboard.calculation.started': 'Ber√§kning startad',
    'dashboard.data.imported': 'Data importerad',
    'dashboard.done': 'Klar',
    'dashboard.resolved': 'L√∂st',
    
    // Students
    'students.title': 'Studentregister',
    'students.subtitle': 'Hantera studentregistrering och placeringar',
    'students.export': 'Exportera',
    'students.new.student': 'Ny Student',
    'students.total.students': 'Totala Studenter',
    'students.intercommunal': 'Interkommunala',
    'students.pending.transfers': 'V√§ntande √ñverf√∂ringar',
    'students.new.this.month': 'Nya denna m√•nad',
    'students.search.filter': 'S√∂k och Filtrera',
    'students.search.placeholder': 'S√∂k efter namn eller personnummer...',
    'students.all.statuses': 'Alla statusar',
    'students.all.municipalities': 'Alla kommuner',
    'students.active': 'Aktiv',
    'students.conflict': 'Konflikt',
    'students.pending': 'V√§ntande',
    'students.unknown': 'Ok√§nd',
    'students.student.list': 'Studenter',
    'students.detailed.list': 'Detaljerad lista √∂ver alla registrerade studenter',
    'students.name': 'Namn',
    'students.personal.number': 'Personnummer',
    'students.municipality': 'Kommun',
    'students.school': 'Skola',
    'students.program': 'Program',
    'students.class': 'Klass',
    'students.status': 'Status',
    'students.amount': 'Belopp (SEK)',
    'students.actions': '√Ötg√§rder',
    'students.view.details': 'Visa detaljer',
    'students.edit': 'Redigera',
    'students.transfer': '√ñverf√∂r',

    // Student Placements
    'placements.title': 'Placeringar & √ñverf√∂ringar',
    'placements.subtitle': 'Hantera student√∂verf√∂ringar mellan kommuner och skolor',
    'placements.new.transfer': 'Ny √ñverf√∂ring',
    'placements.pending.transfers': 'V√§ntande √ñverf√∂ringar',
    'placements.requires.approval': 'Kr√§ver godk√§nnande',
    'placements.approved.this.month': 'Godk√§nda denna m√•nad',
    'placements.from.last.month': 'fr√•n f√∂rra m√•naden',
    'placements.completed.transfers': 'Genomf√∂rda √∂verf√∂ringar',
    'placements.since.term.start': 'Sedan terminsstart',
    'placements.current.requests': 'Aktuella √ñverf√∂ringsf√∂rfr√•gningar',
    'placements.recent.transfers': 'P√•g√•ende och nyligen genomf√∂rda student√∂verf√∂ringar',
    'placements.from': 'Fr√•n:',
    'placements.to': 'Till:',
    'placements.program': 'Program:',
    'placements.reason': 'Anledning:',
    'placements.pending': 'V√§ntande',
    'placements.approved': 'Godk√§nd',
    'placements.completed': 'Genomf√∂rd',
    'placements.unknown': 'Ok√§nd',
    'placements.approve': 'Godk√§nn',
    'placements.reject': 'Avsl√•',
    'placements.execute': 'Genomf√∂r',
    'placements.view.details': 'Visa detaljer',
    'placements.transfer.process': '√ñverf√∂ringsprocess',
    'placements.process.description': 'Standardprocess f√∂r student√∂verf√∂ringar mellan kommuner',
    'placements.step.application': 'Ans√∂kan inkommen',
    'placements.step.application.desc': 'Student eller v√•rdnadshavare l√§mnar in ans√∂kan',
    'placements.step.review': 'Granskning',
    'placements.step.review.desc': 'B√•de avg√•ende och mottagande skola granskar ans√∂kan',
    'placements.step.approval': 'Godk√§nnande',
    'placements.step.approval.desc': 'Beslut fattas av ansvarig administrator',
    'placements.step.execution': 'Genomf√∂rande',
    'placements.step.execution.desc': 'Systemet uppdaterar studentregistret och ber√§knar nya bidrag',

    // Student Conflicts
    'conflicts.title': 'Konfliktl√∂sning',
    'conflicts.subtitle': 'Identifiera och l√∂sa konflikter i studentregistret',
    'conflicts.run.analysis': 'K√∂r Konfliktanalys',
    'conflicts.active.conflicts': 'Aktiva Konflikter',
    'conflicts.requires.attention': 'Kr√§ver uppm√§rksamhet',
    'conflicts.under.investigation': 'Under Utredning',
    'conflicts.ongoing.process': 'P√•g√•ende process',
    'conflicts.resolved.this.month': 'L√∂sta denna m√•nad',
    'conflicts.resolution.rate': '94% l√∂sningsgrad',
    'conflicts.average.resolution.time': 'Genomsnittlig L√∂sningstid',
    'conflicts.days': 'dagar',
    'conflicts.active.conflicts.list': 'Aktiva Konflikter',
    'conflicts.requires.immediate.attention': 'Konflikter som kr√§ver omedelbar uppm√§rksamhet och √•tg√§rd',
    'conflicts.detected': 'Uppt√§ckt:',
    'conflicts.responsible': 'Ansvarig:',
    'conflicts.school': 'Skola',
    'conflicts.choose.placement': 'V√§lj Placering',
    'conflicts.edit': 'Redigera',
    'conflicts.mark.resolved': 'Markera L√∂st',
    'conflicts.comments': 'Kommentarer',
    'conflicts.resolution.process': 'Konfliktl√∂sningsprocess',
    'conflicts.standard.process': 'Standardprocess f√∂r att l√∂sa konflikter i studentregistret',
    'conflicts.step.automatic.detection': 'Automatisk Uppt√§ckt',
    'conflicts.step.automatic.detection.desc': 'Systemet identifierar potentiella konflikter vid dataregistrering',
    'conflicts.step.prioritization': 'Prioritering',
    'conflicts.step.prioritization.desc': 'Konflikter prioriteras baserat p√• typ och p√•verkan',
    'conflicts.step.investigation': 'Utredning',
    'conflicts.step.investigation.desc': 'Ansvarig administrator kontaktar ber√∂rda skolor',
    'conflicts.step.resolution': 'L√∂sning',
    'conflicts.step.resolution.desc': 'Korrekt placering best√§ms och systemet uppdateras',
    'conflicts.double.registration': 'Dubbelregistrering',
    'conflicts.wrong.municipality': 'Felaktig kommun',
    'conflicts.date.conflict': 'Datum konflikt',
    'conflicts.pending': 'V√§ntande',
    'conflicts.investigating': 'Utreds',
    'conflicts.resolved': 'L√∂st',
    'conflicts.unknown': 'Ok√§nd',
    'conflicts.priority.high': 'H√∂g',
    'conflicts.priority.medium': 'Medium',
    'conflicts.priority.low': 'L√•g',

    // Bulk Operations
    'bulk.title': 'Massoperationer',
    'bulk.subtitle': 'Hantera stora m√§ngder studentdata effektivt',
    'bulk.templates': 'Mallar',
    'bulk.new.operation': 'Ny Operation',
    'bulk.import.student.data': 'Importera Studentdata',
    'bulk.import.description': 'Importera data fr√•n SS12000 eller Excel-filer',
    'bulk.start.import': 'Starta Import',
    'bulk.year.advancement': '√Örskursavancemang',
    'bulk.advancement.description': 'Avancera studenter till n√§sta √•rskurs',
    'bulk.start.advancement': 'Starta Avancemang',
    'bulk.export.data': 'Exportera Data',
    'bulk.export.description': 'Exportera studentdata f√∂r rapporter eller backup',
    'bulk.start.export': 'Starta Export',
    'bulk.recent.operations': 'P√•g√•ende och Senaste Operationer',
    'bulk.operations.description': 'Status f√∂r massoperationer och dataprocessning',
    'bulk.started.by': 'Startad av:',
    'bulk.progress': 'Framsteg',
    'bulk.total': 'Totalt:',
    'bulk.processed': 'Bearbetat:',
    'bulk.successful': 'Framg√•ngsrikt:',
    'bulk.failed': 'Misslyckade:',
    'bulk.start': 'Start:',
    'bulk.end': 'Slut:',
    'bulk.not.started': 'Ej startad',
    'bulk.cancel': 'Avbryt',
    'bulk.show.errors': 'Visa Fel',
    'bulk.details': 'Detaljer',
    'bulk.completed': 'Klar',
    'bulk.running': 'P√•g√•ende',
    'bulk.pending': 'V√§ntande',
    'bulk.failed.status': 'Misslyckad',
    'bulk.unknown': 'Ok√§nd',
    'bulk.import.guidelines': 'Importriktlinjer',
    'bulk.guidelines.description': 'Viktiga riktlinjer f√∂r dataimport och massoperationer',
    'bulk.ss12000.standard': 'SS12000 Standard',
    'bulk.ss12000.description': 'Anv√§nd SS12000-formatet f√∂r att s√§kerst√§lla kompatibilitet och datakvalitet',
    'bulk.validation.before.import': 'Validering f√∂re Import',
    'bulk.validation.description': 'Verifiera alltid data i testmilj√∂ innan import till produktionssystemet',
    'bulk.backup.before.operations': 'Backup f√∂re Massoperationer',
    'bulk.backup.description': 'S√§kerst√§ll att fullst√§ndig backup finns innan stora √§ndringar genomf√∂rs',
    'bulk.communication': 'Kommunikation',
    'bulk.communication.description': 'Informera ber√∂rda parter om planerade massoperationer i god tid',

    // Financial
    'financial.title': 'IKE-ber√§kningar',
    'financial.subtitle': 'Hantera m√•natliga ber√§kningar f√∂r interkommunal ers√§ttning',
    'financial.export.results': 'Exportera Resultat',
    'financial.new.calculation': 'Ny Ber√§kning',
    'financial.total.monthly.cost': 'Total M√•nadskostnad',
    'financial.from.last.month': 'fr√•n f√∂rra m√•naden',
    'financial.average.per.student': 'Genomsnitt per Student',
    'financial.monthly.average': 'M√•nadsgenomsnitt',
    'financial.active.students': 'Aktiva Studenter',
    'financial.included.in.calculation': 'Inkluderade i ber√§kning',
    'financial.next.calculation': 'N√§sta Ber√§kning',
    'financial.scheduled.run': 'Schemalagd k√∂rning',
    'financial.current.calculation.status': 'Aktuell Ber√§kningsstatus',
    'financial.detailed.status': 'Detaljerad status f√∂r p√•g√•ende m√•natlig ber√§kning',
    'financial.data.validation': 'Datavalidering',
    'financial.price.calculation': 'Prisber√§kning',
    'financial.export.distribution': 'Export & Distribution',
    'financial.completed': 'Klar',
    'financial.ongoing': 'P√•g√•ende',
    'financial.pending': 'V√§ntande',
    'financial.validated.posts': 'Validerat {count} studentposter',
    'financial.processed.students': 'Bearbetat {current} av {total} studenter',
    'financial.waiting.completion': 'V√§ntar p√• ber√§kningskomplettering',
    'financial.started': 'Startad:',
    'financial.estimated.completion': 'Ber√§knad f√§rdig:',
    'financial.show.details': 'Visa Detaljer',
    'financial.calculation.history': 'Ber√§kningshistorik',
    'financial.previous.calculations': '√ñversikt √∂ver tidigare m√•natliga ber√§kningar',
    'financial.completed.short': 'F√§rdig:',
    'financial.total.amount': 'Totalt belopp:',
    'financial.number.of.students': 'Antal studenter:',
    'financial.average.per.student.short': 'Genomsnitt/student:',
    'financial.details': 'Detaljer',
    'financial.export': 'Export',
    'financial.municipality.breakdown': 'Kommunf√∂rdelning',
    'financial.cost.distribution': 'Kostnadsf√∂rdeling per kommun f√∂r aktuell m√•nad',
    'financial.students': 'studenter',
    'financial.sek.per.student': 'SEK/student',
    'financial.failed': 'Misslyckad',
    'financial.unknown': 'Ok√§nd',

    // Price Lists
    'pricelists.title': 'Prislistor',
    'pricelists.subtitle': 'Hantera priser f√∂r program och specialiseringar',
    'pricelists.price.history': 'Prishistorik',
    'pricelists.new.pricelist': 'Ny Prislista',
    'pricelists.active.pricelists': 'Aktiva Prislistor',
    'pricelists.over.municipalities': '√ñver 33 kommuner',
    'pricelists.average.price': 'Genomsnittspris',
    'pricelists.sek.per.student.year': 'SEK per student/√•r',
    'pricelists.updates.this.year': 'Uppdateringar i √•r',
    'pricelists.price.changes.2024': 'Pris√§ndringar 2024',
    'pricelists.price.increase': 'Pris√∂kning',
    'pricelists.compared.to.2023': 'J√§mf√∂rt med 2023',
    'pricelists.pricelists.per.municipality': 'Prislistor per Kommun',
    'pricelists.overview.active.planned': '√ñversikt √∂ver aktiva och planerade prislistor',
    'pricelists.search.pricelists': 'S√∂k prislistor...',
    'pricelists.municipality': 'Kommun',
    'pricelists.type': 'Typ',
    'pricelists.valid.from': 'Giltig fr√•n',
    'pricelists.valid.to': 'Giltig till',
    'pricelists.programs': 'Program',
    'pricelists.average.price.short': 'Genomsnittspris',
    'pricelists.status': 'Status',
    'pricelists.actions': '√Ötg√§rder',
    'pricelists.active': 'Aktiv',
    'pricelists.draft': 'Utkast',
    'pricelists.expired': 'Utg√•ngen',
    'pricelists.unknown': 'Ok√§nd',
    'pricelists.program.prices.malmo': 'Programpriser - Malm√∂ Kommun',
    'pricelists.detailed.prices': 'Detaljerade priser f√∂r olika program och specialiseringar',
    'pricelists.program.code': 'Programkod',
    'pricelists.program.name': 'Programnamn',
    'pricelists.specialization': 'Specialisering',
    'pricelists.normal.price': 'Normalpris',
    'pricelists.internal.price': 'Internt pris',
    'pricelists.price.trends': 'Pristrender',
    'pricelists.development.average.prices': 'Utveckling av genomsnittspriser √∂ver tid',
    'pricelists.interactive.trend.chart': 'Interaktivt trenddiagram skulle visas h√§r',
    'pricelists.visualization.price.changes': '(Visualisering av prisf√∂r√§ndringar √∂ver tid)',
    'pricelists.from.previous.year': 'fr√•n {year}',

    // Reports
    'reports.title': 'Standardrapporter',
    'reports.subtitle': 'Generera och hantera vanliga systemrapporter',
    'reports.new.report': 'Ny Rapport',
    'reports.search.placeholder': 'S√∂k i alla rapporter...',
    'reports.student.reports': 'Studentrapporter',
    'reports.financial.reports': 'Ekonomirapporter',
    'reports.municipality.reports': 'Kommunrapporter',
    'reports.statistics.reports': 'Statistikrapporter',
    'reports.most.popular': 'Mest popul√§r:',
    'reports.show.all': 'Visa alla',
    'reports.recent.reports': 'Senaste Rapporter',
    'reports.recent.scheduled': 'Nyligen genererade och schemalagda rapporter',
    'reports.saved.reports': 'Sparade Rapporter',
    'reports.custom.templates': 'Anpassade och sparade rapportmallar',
    'reports.schedule': 'Schema',
    'reports.download': 'Ladda ner',
    'reports.edit': 'Redigera',
    'reports.generate': 'Generera',
    'reports.generated.by': 'Genererad av:',
    'reports.last.run': 'Senast k√∂rd:',
    'reports.daily': 'Dagligen',
    'reports.weekly': 'Veckovis',
    'reports.monthly': 'M√•nadsvis',
    'reports.quarterly': 'Kvartalsvis',
    'reports.yearly': '√Örligen',
    'reports.termly': 'Terminsvis',

    // Contribution Reports
    'contributions.title': 'Bidragsrapporter',
    'contributions.subtitle': 'Analys av interkommunala ers√§ttningar mellan kommuner',
    'contributions.historical.reports': 'Historiska rapporter',
    'contributions.export.data': 'Exportera data',
    'contributions.filter.data': 'Filtrera bidragsdata',
    'contributions.period': 'Period',
    'contributions.select.period': 'V√§lj period',
    'contributions.municipality': 'Kommun',
    'contributions.select.municipality': 'V√§lj kommun',
    'contributions.all.municipalities': 'Alla kommuner',
    'contributions.program': 'Program',
    'contributions.select.program': 'V√§lj program',
    'contributions.all.programs': 'Alla program',
    'contributions.flow.type': 'Fl√∂destyp',
    'contributions.select.flow.type': 'V√§lj fl√∂destyp',
    'contributions.all.flows': 'Alla fl√∂den',
    'contributions.sent.payments': 'Skickade betalningar',
    'contributions.received.payments': 'Mottagna betalningar',
    'contributions.positive.net': 'Positiv nettostatus',
    'contributions.negative.net': 'Negativ nettostatus',
    'contributions.apply.filter': 'Till√§mpa filter',
    'contributions.total.contributions': 'Total bidrag',
    'contributions.from.last.month': 'fr√•n f√∂rra m√•naden',
    'contributions.average.per.student': 'Genomsnitt per student',
    'contributions.monthly.average': 'M√•nadsgenomsnitt',
    'contributions.largest.recipient': 'St√∂rsta bidragsmottagare',
    'contributions.received': 'mottaget',
    'contributions.largest.contributor': 'St√∂rsta bidragsgivare',
    'contributions.sent': 'skickat',
    'contributions.overview.per.municipality': 'Bidrags√∂versikt per Kommun',
    'contributions.detailed.overview': 'Detaljerad √∂versikt √∂ver kommunala bidragsfl√∂den',
    'contributions.students': 'studenter',
    'contributions.total.transaction.volume': 'Total transaktionsvolym',
    'contributions.sent.contribution': 'Skickat bidrag',
    'contributions.received.contribution': 'Mottaget bidrag',
    'contributions.net.result': 'Nettoresultat:',
    'contributions.trends': 'Trender',
    'contributions.details': 'Detaljer',
    'contributions.available.reports': 'Tillg√§ngliga Rapporter',
    'contributions.specialized.reports': 'Specialiserade bidragsrapporter f√∂r olika anv√§ndningsfall',
    'contributions.municipal.summary': 'Kommunal Sammanst√§llning',
    'contributions.municipal.summary.desc': 'Detaljerad sammanst√§llning av bidragsfl√∂den mellan kommuner',
    'contributions.trend.analysis': 'Trendanalys',
    'contributions.trend.analysis.desc': 'Analys av bidragsf√∂r√§ndringar √∂ver tid med trendprognoser',
    'contributions.economic.analysis': 'Ekonomisk Analys',
    'contributions.economic.analysis.desc': 'Ekonomiska konsekvenser av studentr√∂relser mellan kommuner',
    'contributions.generate.report': 'Generera rapport'
  }
};

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export const LanguageProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [language, setLanguage] = useState<Language>('en');

  const toggleLanguage = () => {
    setLanguage(prev => prev === 'en' ? 'sv' : 'en');
  };

  const t = (key: string): string => {
    return translations[language][key] || key;
  };

  return (
    <LanguageContext.Provider value={{ language, toggleLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (context === undefined) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};
